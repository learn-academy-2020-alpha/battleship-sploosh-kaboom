{"ast":null,"code":"var _jsxFileName = \"/Users/learn/Desktop/Battleship-prototype/src/components/Game.js\";\nimport React, { Component } from 'react';\nimport Box from './Box';\n\nclass Game extends Component {\n  constructor() {\n    super(); //This is our ships, and how big they are\n\n    this.checkYourWork = arr => {\n      let x = 0; //Add all the values in the array together\n\n      for (let i = 0; i < this.listOfShips.length; i++) {\n        x += this.listOfShips[i];\n      } //A tracker to see how many elements are not 0\n\n\n      let y = 0;\n\n      for (let i = 0; i < arr.length; i++) {\n        for (let j = 0; j < arr[i].length; j++) {\n          if (arr[i][j] !== 0) {\n            //If you are not 0, add to the tracker\n            y += 1;\n          }\n        }\n      } //If we do not have matching numbers, our collision didnt work properly\n\n\n      if (x !== y) {\n        return false;\n      } else if (x === y) {\n        return true;\n      }\n    };\n\n    this.clickFunction = (value, ammo) => {\n      //Keep track of how many ships are dead\n      let shipHit = this.state.deathCounter; //Add one to our ship hit counter if they hit a ship\n\n      if (value !== 0) {\n        shipHit += 1; //Reassign Death counter for later use\n\n        this.setState({\n          deathCounter: shipHit\n        });\n      } //Get how many ships exist in our board\n\n\n      let nubmerOfShips = 0;\n\n      for (let i = 0; i < this.state.gameBoard.length; i++) {\n        for (let j = 0; j < this.state.gameBoard[i].length; j++) {\n          if (this.state.gameBoard[i][j] !== 0) {\n            //If you are not 0, add to the tracker\n            nubmerOfShips += 1;\n          }\n        }\n      }\n\n      if (this.state.deathCounter === nubmerOfShips) {\n        this.setState({\n          winStatus: true\n        });\n        console.log(this.state.winStatus);\n      } //This is broken - WIP\n\n\n      for (let i = 0; i < this.state.shipHealth.length; i++) {\n        let newVal = (value - 1) * 2;\n\n        if (i === newVal) {\n          let newHealth = this.state.shipHealth;\n          let newHealthElement = newHealth[i];\n          let removeHeart = newHealthElement.split(\"\");\n          removeHeart.pop();\n          removeHeart.pop();\n          newHealth[i] = removeHeart.join(\"\");\n          this.setState({\n            shipHealth: newHealth\n          });\n        }\n      } //Ammo Tracker\n\n\n      if (ammo > 0) {\n        let currAmmo = ammo;\n        currAmmo -= 1;\n        this.setState({\n          ammo: currAmmo\n        }); //If we are out of ammo you lose\n\n        if (currAmmo === 0) {\n          this.setState({\n            winStatus: false\n          });\n        }\n      }\n    };\n\n    this.seeAmmo = () => {\n      let x = [];\n\n      for (let i = 0; i < this.state.ammo; i++) {\n        x.push(\"💣\");\n      }\n\n      return x;\n    };\n\n    this.listOfShips = [4, 3, 2, 5, 3];\n    this.state = {\n      //Will have our final array of ships populated in it\n      gameBoard: this.bigFunction(),\n      shipHealth: this.shipsHPArray(this.listOfShips),\n      ammo: 50,\n      canShoot: 0,\n      winStatus: \"\",\n      deathCounter: 1,\n      taco: \"\"\n    };\n  }\n\n  bigFunction() {\n    //Creates the wireframe for our array\n    let tempArray = Array(10).fill().map(n => Array(10).fill(0)); //Make sure the god dang thing works\n\n    console.log(tempArray); //Loop to create the actual ships\n\n    for (let i = 0; i < this.listOfShips.length; i++) {\n      //Unique ship identifier\n      let increment = i + 1; // Creates the ship, using the index of the ship array, passes in our wireframe, and the unique identifier\n\n      tempArray = this.placeShip(this.listOfShips[i], tempArray, increment);\n    } //Lets us see the populated array\n\n\n    console.log(tempArray); //Check to see if our collision worked\n\n    let check = this.checkYourWork(tempArray); //If the collision didnt work, try again until you do\n\n    while (check === false) {\n      tempArray = this.bigFunction();\n      check = this.checkYourWork(tempArray);\n    }\n\n    return tempArray;\n  } //Make sure the collission did its job\n\n\n  placeShip(arg, arr, increment) {\n    //Choose either a vertical or horizontal ship placement\n    let flipCoin = Math.floor(Math.random() * 2); //Grab a Random index for the array\n\n    let rIndexOne = Math.floor(Math.random() * arr.length);\n    let rIndexTwo = Math.floor(Math.random() * arr.length); //Make sure that the place we are setting our ship into is not taken\n\n    while (this.collisionFunct(flipCoin, rIndexOne, rIndexTwo, arr, arg) === false) {\n      //If it was taken, find a new place\n      rIndexOne = Math.floor(Math.random() * arr.length);\n      rIndexTwo = Math.floor(Math.random() * arr.length);\n    } //0 means we are looking vertically\n\n\n    if (flipCoin === 0) {\n      //Assigns the indexes with our unique idenifier\n      for (let i = 0; i < arg; i++) {\n        arr[rIndexOne + i][rIndexTwo] = increment;\n      } //0 means we are looking horizontally\n\n    } else if (flipCoin === 1) {\n      for (let i = 0; i < arg; i++) {\n        //Assigns the indexes with our unique idenifier\n        arr[rIndexOne][rIndexTwo + i] = increment;\n      }\n    } //Returns the array with the ship inside of it\n\n\n    return arr;\n  }\n\n  collisionFunct(coin, rI1, rI2, arr, arg) {\n    //I doing a vertical check if the coin was 0\n    if (coin === 0) {\n      //I create a loop to check every index for the size of my ship\n      for (let i = 0; i < arg; i++) {\n        //I create a variable to return my boolean statement\n        let ourBoolean = \"\"; //I make sure that the place I am checking exists in my array\n\n        if (rI1 + i < arr.length - 1 && rI1 + arg < arr.length - i) {\n          //I check if the value I am looking at is not a 0\n          if (arr[rI1 + i][rI2] !== 0) {\n            //If I am not a 0, do not write\n            ourBoolean = false;\n          } else {\n            //I am a 0, go ahead and write\n            ourBoolean = true;\n          }\n        } else {\n          //I dont exist in the array, dont write anything\n          ourBoolean = false;\n        } //Return my boolean at the end of my loops\n\n\n        if (i + 1 === arg) {\n          return ourBoolean;\n        }\n      } // Horizontal Checking below\n\n    } else if (coin === 1) {\n      //I create a loop to check every index for the size of my ship\n      for (let i = 0; i < arg; i++) {\n        //I create a variable to return my boolean statement\n        let ourBoolean = \"\"; //I make sure the place I am checking exists in my array\n\n        if (rI2 + i < arr.length - 1 && rI2 + arg < arr.length - i) {\n          //I check fi the value I am looking at is not a 0\n          if (arr[rI1][rI2 + i] !== 0) {\n            //If I am not a 0, do not write\n            ourBoolean = false;\n          } else {\n            //I am a 0, go ahead and write\n            ourBoolean = true;\n          } //I dont exist in the array, dont write anything\n\n        } else {\n          ourBoolean = false;\n        } //Return my boolean at the end of my loops\n\n\n        if (i + 1 === arg) {\n          return ourBoolean;\n        }\n      }\n    }\n  } //Lets fill our 2d array with boxes\n\n\n  boxPopulation(arr) {\n    //Start with a blank box\n    let finalArr = []; //For every array, we map an array of boxes\n\n    for (let i = 0; i < arr.length; i++) {\n      finalArr.push(arr[i].map((value, index) => {\n        return React.createElement(Box, {\n          value: value,\n          index: index,\n          ammo: this.state.ammo,\n          canShoot: this.state.canShoot,\n          clickFunction: this.clickFunction,\n          winCheck: this.winCheck,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        });\n      }));\n    }\n\n    console.log(finalArr);\n    return finalArr;\n  } //Things we want to happen in the on click event\n\n\n  //Create the hp display\n  shipsHPArray(arr) {\n    let shipArray = [];\n    let healthArray = [];\n    let noComma = []; //Create an array to hold all of the health\n\n    for (let i = 0; i < this.listOfShips.length; i++) {\n      for (let j = 0; j < arr[i]; j++) {\n        //Push the hearts equal to the ship size into a string\n        healthArray.push(\"❤️\");\n        noComma = healthArray.join(\"\");\n      } //Take that string above and push that with our other text into a single string in the array\n\n\n      shipArray.push(`🚢 HP: ${noComma}`, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }));\n      healthArray = [];\n    } //Returns our final array of strings\n\n\n    return shipArray;\n  }\n\n  render() {\n    //Render our gameboard onto the screen\n    let start = this.boxPopulation(this.state.gameBoard);\n    let healthMap = this.state.shipHealth.map(value => value);\n    return (//This is a huge css mess to make it look kinda pretty sometimes\n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"centerBoard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"outerBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"ammoDisplay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Ammo: \", this.state.ammo, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }), this.seeAmmo())), React.createElement(\"span\", {\n        className: \"squareIt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, start), React.createElement(\"span\", {\n        className: \"outerBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"healthDisplay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"Enemy Ship Health: \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }), healthMap, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"centerMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, this.state.winStatus === true && React.createElement(\"span\", {\n        className: \"endText onTopWinner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"You Win\"), this.state.winStatus === false && React.createElement(\"span\", {\n        className: \"endText onTopLoser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"You Lose\")))\n    );\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/learn/Desktop/Battleship-prototype/src/components/Game.js"],"names":["React","Component","Box","Game","constructor","checkYourWork","arr","x","i","listOfShips","length","y","j","clickFunction","value","ammo","shipHit","state","deathCounter","setState","nubmerOfShips","gameBoard","winStatus","console","log","shipHealth","newVal","newHealth","newHealthElement","removeHeart","split","pop","join","currAmmo","seeAmmo","push","bigFunction","shipsHPArray","canShoot","taco","tempArray","Array","fill","map","n","increment","placeShip","check","arg","flipCoin","Math","floor","random","rIndexOne","rIndexTwo","collisionFunct","coin","rI1","rI2","ourBoolean","boxPopulation","finalArr","index","winCheck","shipArray","healthArray","noComma","render","start","healthMap"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Box from './Box'\n\nclass Game extends Component {\n\n    constructor(){\n        super()\n        //This is our ships, and how big they are\n        this.listOfShips = [4,3,2,5,3]\n        this.state = {\n            //Will have our final array of ships populated in it\n            gameBoard: this.bigFunction(),\n            shipHealth: this.shipsHPArray(this.listOfShips),\n            ammo: 50,\n            canShoot: 0,\n            winStatus: \"\",\n            deathCounter: 1,\n            taco: \"\"\n        }\n    }\n\n    bigFunction() {\n        //Creates the wireframe for our array\n        let tempArray = Array(10).fill().map(n => Array(10).fill(0));\n\n        //Make sure the god dang thing works\n        console.log(tempArray)\n\n        //Loop to create the actual ships\n        for(let i = 0; i< this.listOfShips.length; i++){\n            //Unique ship identifier\n            let increment = i+1;\n            // Creates the ship, using the index of the ship array, passes in our wireframe, and the unique identifier\n            tempArray = this.placeShip(this.listOfShips[i], tempArray, increment)\n        }\n\n        //Lets us see the populated array\n        console.log(tempArray)\n        //Check to see if our collision worked\n        let check = this.checkYourWork(tempArray)\n\n        //If the collision didnt work, try again until you do\n        while (check === false){\n            tempArray =  this.bigFunction();\n            check = this.checkYourWork(tempArray);\n        }\n        return tempArray; \n    }\n\n    //Make sure the collission did its job\n    checkYourWork = (arr) => {\n        let x = 0;\n        //Add all the values in the array together\n        for (let i = 0; i < this.listOfShips.length; i++){\n            x += this.listOfShips[i]; \n        }\n\n        //A tracker to see how many elements are not 0\n        let y = 0;\n        for(let i = 0; i < arr.length; i++){\n            for(let j = 0; j<arr[i].length; j++){\n                if (arr[i][j] !== 0){\n                    //If you are not 0, add to the tracker\n                    y += 1;\n                }\n            }\n        }\n\n        //If we do not have matching numbers, our collision didnt work properly\n        if (x !== y){\n            return false;\n        } else if (x === y) {\n            return true;\n        }\n    }\n\n    placeShip(arg, arr, increment) {\n        //Choose either a vertical or horizontal ship placement\n        let flipCoin = Math.floor(Math.random()*2)\n\n        //Grab a Random index for the array\n        let rIndexOne = Math.floor(Math.random()*arr.length)\n        let rIndexTwo = Math.floor(Math.random()*arr.length)\n\n        //Make sure that the place we are setting our ship into is not taken\n        while (this.collisionFunct(flipCoin, rIndexOne, rIndexTwo, arr, arg) === false){\n            //If it was taken, find a new place\n            rIndexOne = Math.floor(Math.random()*arr.length)\n            rIndexTwo = Math.floor(Math.random()*arr.length)\n        }\n\n        //0 means we are looking vertically\n        if (flipCoin === 0){\n            //Assigns the indexes with our unique idenifier\n            for(let i = 0; i < arg; i++){\n                arr[rIndexOne+i][rIndexTwo] = increment;\n                \n            }\n            //0 means we are looking horizontally\n        } else if (flipCoin === 1){\n            for(let i = 0; i < arg; i++){\n                //Assigns the indexes with our unique idenifier\n                arr[rIndexOne][rIndexTwo+i] = increment;\n            }\n        }\n        //Returns the array with the ship inside of it\n        return arr;\n    }\n\n    collisionFunct(coin, rI1, rI2, arr, arg) {\n        //I doing a vertical check if the coin was 0\n        if (coin === 0){\n            //I create a loop to check every index for the size of my ship\n            for(let i = 0; i<arg; i++){\n                //I create a variable to return my boolean statement\n                let ourBoolean = \"\";\n                //I make sure that the place I am checking exists in my array\n                if (rI1+i < arr.length-1 && rI1+arg < arr.length-i){\n                    //I check if the value I am looking at is not a 0\n                    if (arr[rI1+i][rI2] !== 0){\n                        //If I am not a 0, do not write\n                        ourBoolean = false;\n                    } else{\n                        //I am a 0, go ahead and write\n                        ourBoolean = true;\n                    }\n                } else {\n                    //I dont exist in the array, dont write anything\n                    ourBoolean = false;\n                }\n                //Return my boolean at the end of my loops\n                if (i+1 === arg){ return ourBoolean}\n            }// Horizontal Checking below\n        } else if (coin === 1){\n            //I create a loop to check every index for the size of my ship\n            for(let i = 0; i<arg; i++){\n                //I create a variable to return my boolean statement\n                let ourBoolean = \"\";\n                //I make sure the place I am checking exists in my array\n                if (rI2+i < arr.length-1 && rI2+arg < arr.length-i){\n                    //I check fi the value I am looking at is not a 0\n                    if (arr[rI1][rI2+i] !== 0){\n                        //If I am not a 0, do not write\n                        ourBoolean = false;\n                    } else{\n                        //I am a 0, go ahead and write\n                        ourBoolean = true;\n                    }\n                    //I dont exist in the array, dont write anything\n                } else { ourBoolean = false;}\n                //Return my boolean at the end of my loops\n                if (i+1 === arg){ return ourBoolean}\n            }\n        }\n    }\n\n    //Lets fill our 2d array with boxes\n    boxPopulation(arr) {\n        //Start with a blank box\n        let finalArr = [];\n        //For every array, we map an array of boxes\n        for( let i = 0; i < arr.length; i++){\n            finalArr.push(arr[i].map((value,index) => {return(\n                <Box \n                    value = {value}\n                    index = {index}\n                    ammo = { this.state.ammo }\n                    canShoot = { this.state.canShoot }\n                    clickFunction = { this.clickFunction }\n                    winCheck = {this.winCheck}\n                />)}\n            ));\n        }\n        console.log(finalArr)\n        return finalArr\n    }\n\n    //Things we want to happen in the on click event\n    clickFunction = (value, ammo) => {\n        //Keep track of how many ships are dead\n        let shipHit = this.state.deathCounter\n\n        //Add one to our ship hit counter if they hit a ship\n        if(value !== 0){\n            shipHit += 1;\n            //Reassign Death counter for later use\n            this.setState({ deathCounter: shipHit})            \n        }\n\n        //Get how many ships exist in our board\n        let nubmerOfShips = 0;\n        for(let i = 0; i < this.state.gameBoard.length; i++){\n            for(let j = 0; j<this.state.gameBoard[i].length; j++){\n                if (this.state.gameBoard[i][j] !== 0){\n                    //If you are not 0, add to the tracker\n                    nubmerOfShips += 1;\n                    \n                }\n            }\n        }\n\n        if (this.state.deathCounter === nubmerOfShips){\n            this.setState({ winStatus: true })\n            console.log(this.state.winStatus);\n            \n        }\n\n        //This is broken - WIP\n        for(let i = 0; i < this.state.shipHealth.length; i++){\n            let newVal = (value-1)*2\n            if(i === newVal){\n                let newHealth = this.state.shipHealth\n                let newHealthElement = newHealth[i];\n                let removeHeart = newHealthElement.split(\"\")\n                removeHeart.pop()\n                removeHeart.pop()\n                newHealth[i] = removeHeart.join(\"\")             \n                this.setState({shipHealth: newHealth})\n            }\n            \n        }\n\n        //Ammo Tracker\n        if (ammo > 0){\n            let currAmmo = ammo;\n            currAmmo -= 1;\n            this.setState({ ammo: currAmmo })            \n            //If we are out of ammo you lose\n            if (currAmmo === 0){\n                this.setState({ winStatus: false})\n            }\n        }\n    }\n    \n    //Create the hp display\n    shipsHPArray(arr) {\n        let shipArray = [];\n        let healthArray = [];\n        let noComma = []\n\n        //Create an array to hold all of the health\n        for (let i = 0; i < this.listOfShips.length; i++){\n            for (let j = 0; j< arr[i]; j++){\n                //Push the hearts equal to the ship size into a string\n                healthArray.push(\"❤️\")\n                noComma = healthArray.join(\"\");\n            }\n            //Take that string above and push that with our other text into a single string in the array\n            shipArray.push(`🚢 HP: ${noComma}`, <br/>)\n            healthArray = [];\n        }\n        //Returns our final array of strings\n        return shipArray\n    }\n\n    seeAmmo = () => {\n        let x = []\n\n        for(let i = 0; i < this.state.ammo ; i++){\n            x.push(\"💣\")\n        }  \n        return x;\n    }\n\n    render(){\n        //Render our gameboard onto the screen\n        let start = this.boxPopulation(this.state.gameBoard);\n        let healthMap = this.state.shipHealth.map(value => value)\n        \n        return (\n            //This is a huge css mess to make it look kinda pretty sometimes\n            <div>\n                <div className = \"centerBoard\">\n                    <div className = \"wrap\">\n                        <span className = \"outerBox\">\n                            <p className = \"ammoDisplay\">\n                                Ammo: {this.state.ammo} <br/>\n                                <br/>\n                                {this.seeAmmo()}\n                            </p>\n                        </span>\n                        <span className = \"squareIt\">\n                            { start }\n                        </span>\n                        <span className = \"outerBox\">\n                            <p className = \"healthDisplay\">\n                            Enemy Ship Health: <br/>\n                            <br/>\n                            { healthMap }<br/>\n                            </p>\n                        </span> \n                    </div>\n                </div>\n                <div className = \"centerMessage\">\n                    {/* If we won, show we won, if we lost, show we lost. */}\n                    {this.state.winStatus === true &&\n                        <span className = \"endText onTopWinner\">You Win</span>\n                    }\n                    {this.state.winStatus === false &&\n                        <span className = \"endText onTopLoser\">You Lose</span>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}